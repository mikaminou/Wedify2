ktor {
    deployment {
        port = 8081
        port = ${?PORT}
        host = "0.0.0.0"
    }
    application {
        modules = [com.wedify.ApplicationKt.module]
    }
}

app {
    environment = "development"
    environment = ${?ENVIRONMENT}

    cors {
        allowedHosts = ["http://localhost:8080", "http://localhost:5173"]
        allowedHosts = ${?CORS_ALLOWED_HOSTS}
    }

    supabase {
        url = ${?SUPABASE_URL}
        anonKey = ${?SUPABASE_ANON_KEY}
        serviceRoleKey = ${?SUPABASE_SERVICE_ROLE_KEY}
        jwtSecret = ${?SUPABASE_JWT_SECRET}
    }

    redis {
        url = ${?REDIS_URL}
    }
}

# Development overrides
development {
    ktor.deployment.port = 8080
    app.environment = "development"
}

# Staging overrides
staging {
    ktor.deployment.port = 8080
    app.environment = "staging"
}

# Production overrides
production {
    ktor.deployment.port = 8080
    app.environment = "production"
    app.cors.allowedHosts = ["https://yourdomain.com", "https://app.yourdomain.com"]
}
